<!DOCTYPE html>
<html lang="de" data-theme="light"> 
<head>
  <meta charset="utf-8" > 
  <meta name="theme-color" content="#ff0000">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <title>Score four</title>

  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="style.css">
  <link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.conditional.min.css">
  <!-- PWABuilder SW registration -->
  <script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker
      .register('./pwabuilder-sw.js', { scope: './' })
      .then(r => console.log('SW registered:', r.scope))
      .catch(err => console.error('SW registration failed:', err));
  }
</script>

  <script defer src="script.js"></script>
  <!-- NEW: AI logic -->
  <script defer src="ai.js"></script>
</head>
<body>
  <main>
  <br>
  <h2>CONNECT 4 3D</h2>
  <p>Choose a mode and start playing by clicking on the board.</p>
  <br>
  <details>
    <summary>Game instructions</summary>
    <p>
      Connect Four in 3D, also known as 3D 4 in a Row, is a variation of the classic Connect Four game played on a three-dimensional grid. The objective is to be the first player to connect four of their game pieces in a row, either horizontally, vertically, or diagonally, in any of the three dimensions. good explanation:
      <a href="https://www.youtube.com/watch?v=c81LFAc1Uq8" target="_blank" rel="noopener noreferrer">Watch YouTube tutorial</a>
    </p>
  </details>
  <h3></h3>

  <table>
    <tr>
      <td><h3>Player = </h3></td>
      <td id="currentplayer">
        <img id="playerimg" src="cube_red.png" width="50" height="50" alt="">
      </td>
    </tr>
  </table>

  <div id="game">
    <canvas class="canvas" id="c1"></canvas><canvas class="canvas" id="c2"></canvas><canvas class="canvas" id="c3"></canvas><canvas class="canvas" id="c4"></canvas><br>
    <canvas class="canvas" id="c5"></canvas><canvas class="canvas" id="c6"></canvas><canvas class="canvas" id="c7"></canvas><canvas class="canvas" id="c8"></canvas><br>
    <canvas class="canvas" id="c9"></canvas><canvas class="canvas" id="c10"></canvas><canvas class="canvas" id="c11"></canvas><canvas class="canvas" id="c12"></canvas><br>
    <canvas class="canvas" id="c13"></canvas><canvas class="canvas" id="c14"></canvas><canvas class="canvas" id="c15"></canvas><canvas class="canvas" id="c16"></canvas><br>
  </div>
  <br><br>


  <!-- AI controls -->


    
    <div class="pico container grid" id="aiControls" >
      <table>
        <tr>
        <td>
        <label id="aiModeLabel" >
          Mode:</label>
        </td>
        <td>
        <select id="aiMode">
          <option value="ai" selected>vs AI</option>
          <option value="friend">vs Friend</option>
        </select>
      </td>
      </tr>

    <tr><td><label >
      Difficulty: </label></td>
    <td>
    <select id="aiLevel">
      <option value="supereasy">Super easy</option>
      <option value="easy" selected>Easy</option>
      <option value="intermediate">Intermediate</option>
      <option value="hard">Hard</option>
      <option value="expert">Expert</option>
    </select>
      </td>
      </tr>

      <tr>
      <td>
      <label >
        AI side:
        </label> </td>
        <td>
        <select id="aiSide">
          <option value="green">Green (second)</option>
          <option value="red">Red (first)</option>
        </select>
      </td>
    </tr>
    </table>


    <span id="aiStatus"></span>
    <br>
      <button type="submit" id="newGameBtn" title="Start a new game">‚Üª New game</button>
      <a href="./online/client/index.html"><button id="onlineBtn" type="submit">üåç Play online</button></a>
  </div>

  
  

    
  <br><br>
  <!-- /AI controls -->

 </main>
  <div class="footerdiv" id="contact">
        <br>
        <footer>
            <section >
                <h2>Contact</h2>
                <br>
                <p>E-Mail: michaelpeterschmid@yahoo.de</p>
                <br>
                <p>&copy; Michael Peter Schmid</p>
                <br>
            </section>
        </footer>
        <br>
    </div>    

  <script>
    // Reload to reset state (works offline via SW cache)
    document.getElementById('newGameBtn').addEventListener('click', () => location.reload());
  </script>
</body>
</html>
